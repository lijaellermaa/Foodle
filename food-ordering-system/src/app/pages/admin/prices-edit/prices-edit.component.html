<h1 class="text-3xl font-bold m-4">Prices</h1>

<form [formGroup]="formGroup" class="ml-4">
  <label class="form-control w-full max-w-xs">
    <div class="label"><span class="label-text">Value</span></div>
    <input class="input input-bordered w-full max-w-xs" type="text" placeholder="Value"
           [formControl]="formGroup.controls.value">
  </label>
  <label class="form-control w-full max-w-xs">
    <div class="label"><span class="label-text">Previous Value</span></div>
    <input class="input input-bordered w-full max-w-xs" type="text" placeholder="Previous Value"
           [formControl]="formGroup.controls.previousValue">
  </label>
  <label class="form-control w-full max-w-xs">
    <div class="label"><span class="label-text">Comment</span></div>
    <input class="input input-bordered w-full max-w-xs" type="text" placeholder="Comment"
           [formControl]="formGroup.controls.comment">
  </label>

  <label class="form-control w-full max-w-xs flex">
    <div class="label">
      <span class="label-text">Product</span>
    </div>
    <select class="select select-bordered" [formControl]="formGroup.controls.productId">
      <option disabled [selected]="!id">Select Product</option>
      @for (product of products; track product.id) {
        <option value="{{product.id}}"
                [selected]="product.id == formGroup.value.productId">{{ product.restaurant.name }} - {{ product.name }}
        </option>
      }
    </select>
  </label>

  <button class="btn btn-accent mt-4" type="submit" (click)="postOrUpdate()">{{ this.id ? "Update" : "Create" }}
  </button>
</form>
